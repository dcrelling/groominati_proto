<div ng-controller="PostCtrl" ng-init="setPostOnInit(<%= json_for(@posts) %>)">         <!-- this div contains a form for uploaing posts -->

  <div id="isotopeContainer" isotope-container iso-options-subscribe="my-iso-opts" iso-method-subscribe="my-iso-method" iso-options="{layoutMode:'masonry',masonry: {columnWidth: 100, cornerStampSelector: '.corner-stamp'}, animationEngine : 'jquery'}">
    <form ng-submit="newPost()" isotope-item class="corner-stamp">
      <textarea id="post_content" rows="5" cols="20" ng-model="post.content"></textarea>
      <button type="submit">Create</button>
      <input type="file" ng-file-select="onFileSelect($files)">
    </form>
    <span ng-repeat="post in posts" isotope-item>
      <img ng-src="{{post.asset}}" width="100" height="100">
    </span>
  </div>
</div>
